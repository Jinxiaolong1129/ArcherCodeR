{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Run Archer Qwen2.5 1.5B Training",
            "type": "debugpy",
            "request": "launch",
            "module": "dapo.main_dapo",
            "args": [
                "data.train_files=./data/train/archercoder-1.5b-train.json",
                "data.val_files=./data/test/livecodebench_v5.json",
                "data.prompt_key=prompt",
                "data.filter_overlong_prompts=True",
                "data.truncation=error",
                "data.max_prompt_length=2048",
                "data.max_response_length=32768",
                "data.gen_batch_size=32",
                "data.train_batch_size=32",
                "actor_rollout_ref.rollout.n=16",
                "algorithm.adv_estimator=grpo",
                "algorithm.use_kl_in_reward=False",
                "algorithm.kl_ctrl.kl_coef=0.0",
                "actor_rollout_ref.actor.use_kl_loss=True",
                "actor_rollout_ref.actor.kl_loss_coef=0.001",
                "actor_rollout_ref.actor.kl_loss_type=low_var_kl",
                "actor_rollout_ref.actor.clip_ratio_low=0.2",
                "actor_rollout_ref.actor.clip_ratio_high=0.2",
                "actor_rollout_ref.actor.clip_ratio_c=10.0",
                "actor_rollout_ref.model.use_remove_padding=True",
                "actor_rollout_ref.actor.use_dynamic_bsz=False",
                "actor_rollout_ref.actor.ppo_micro_batch_size_per_gpu=1",
                "+actor_rollout_ref.actor.use_token_entropy_separate=True",
                "+actor_rollout_ref.actor.high_entropy_kl_loss_scale_coef=0.0",
                "+actor_rollout_ref.actor.low_entropy_clip_ratio_low=0.2",
                "+actor_rollout_ref.actor.low_entropy_clip_ratio_high=0.2",
                "+actor_rollout_ref.actor.high_entropy_clip_ratio_low=0.5",
                "+actor_rollout_ref.actor.high_entropy_clip_ratio_high=0.5",
                "actor_rollout_ref.ref.log_prob_use_dynamic_bsz=False",
                "actor_rollout_ref.ref.log_prob_micro_batch_size_per_gpu=1",
                "actor_rollout_ref.rollout.log_prob_use_dynamic_bsz=False",
                "actor_rollout_ref.rollout.log_prob_micro_batch_size_per_gpu=1",
                "actor_rollout_ref.actor.ppo_max_token_len_per_gpu=34816",
                "actor_rollout_ref.ref.log_prob_max_token_len_per_gpu=34816",
                "actor_rollout_ref.rollout.log_prob_max_token_len_per_gpu=34816",
                "actor_rollout_ref.model.path=deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B",
                "actor_rollout_ref.model.enable_gradient_checkpointing=True",
                "actor_rollout_ref.actor.optim.lr=1e-6",
                "actor_rollout_ref.actor.optim.lr_warmup_steps=10",
                "actor_rollout_ref.actor.optim.weight_decay=0.1",
                "actor_rollout_ref.actor.ppo_epochs=3",
                "actor_rollout_ref.actor.ppo_mini_batch_size=16",
                "actor_rollout_ref.actor.fsdp_config.param_offload=False",
                "actor_rollout_ref.actor.fsdp_config.optimizer_offload=False",
                "actor_rollout_ref.actor.entropy_coeff=0",
                "actor_rollout_ref.actor.grad_clip=1.0",
                "actor_rollout_ref.actor.loss_agg_mode=token-mean",
                "actor_rollout_ref.actor.ulysses_sequence_parallel_size=1",
                "actor_rollout_ref.rollout.gpu_memory_utilization=0.75",
                "actor_rollout_ref.rollout.tensor_model_parallel_size=1",
                "actor_rollout_ref.rollout.enable_chunked_prefill=True",
                "actor_rollout_ref.rollout.max_num_batched_tokens=34816",
                "actor_rollout_ref.rollout.max_model_len=34816",
                "actor_rollout_ref.rollout.temperature=1.0",
                "actor_rollout_ref.rollout.top_p=1.0",
                "actor_rollout_ref.rollout.top_k=-1",
                "actor_rollout_ref.rollout.val_kwargs.temperature=0.8",
                "actor_rollout_ref.rollout.val_kwargs.top_p=1.0",
                "actor_rollout_ref.rollout.val_kwargs.top_k=-1",
                "actor_rollout_ref.rollout.val_kwargs.do_sample=True",
                "actor_rollout_ref.rollout.val_kwargs.n=4",
                "+actor_rollout_ref.rollout.val_kwargs.response_length=32768",
                "actor_rollout_ref.ref.fsdp_config.param_offload=False",
                "actor_rollout_ref.ref.ulysses_sequence_parallel_size=1",
                "actor_rollout_ref.actor.fsdp_config.fsdp_size=-1",
                "reward_model.reward_manager=wizard",
                "reward_model.overlong_buffer.enable=False",
                "reward_model.overlong_buffer.len=16",
                "reward_model.overlong_buffer.penalty_factor=1.0",
                "trainer.logger=['console','wandb']",
                "trainer.project_name=ArcherCodeR",
                "trainer.experiment_name=Archer-Qwen2.5-1.5B-Single",
                "trainer.n_gpus_per_node=4",
                "trainer.nnodes=1",
                "trainer.balance_batch=False",
                "trainer.val_before_train=False",
                "trainer.test_freq=-1",
                "trainer.save_freq=10",
                "trainer.total_epochs=10",
                "trainer.default_local_dir=./output/ArcherCodeR/Archer-Qwen2.5-1.5B-Single",
                "trainer.resume_mode=auto",
                "+trainer.validation_data_dir=./output/ArcherCodeR/Archer-Qwen2.5-1.5B-Single/eval",
                "+trainer.enable_overlong_filter=False",
                "+trainer.rejection_sample=True"
            ],
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal",
            "env": {
            },
            "justMyCode": false
        },
        {
            "name": "Python Debugger: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal"
        }
    ]
}